"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[527],{4773:function(t,s,e){e.r(s),e.d(s,{default:function(){return w}});var n=e(5861),r=e(7757),d=e.n(r),i=e(2791),a=e(6871),o=e(6068),p=e(1122),c=e(5218),l=e(9556),u=e(7502),h=e(184);var f=function(t){return(0,h.jsxs)("div",{className:"oppost",id:t.post.id,children:[(0,h.jsxs)("div",{className:"oppost__header",children:[(0,h.jsx)(o.Z,{createdat:t.post.createdAt,id:t.post.id,username:t.post.userName}),(0,h.jsxs)("div",{className:"oppost__btns",children:[(0,h.jsx)("div",{className:"oppost__btns-wr",children:(0,h.jsx)(l.Z,{params:{threadId:t.post.ThreadId,lastpost:t.lastpost,postTitle:t.post.postTitle}})}),(0,h.jsxs)("div",{className:"oppost__btns-wr",children:[(0,h.jsx)(u.Z,{idparams:{postId:t.post.id}}),(0,h.jsx)(c.Z,{idparams:{threadId:t.post.ThreadId,postId:t.post.id}})]})]})]}),(0,h.jsx)(p.Z,{post:t.post})]})},v=e(2679),x=e(2869),j=e(6030),m=e(6482),I=(e(6450),e(6982));var w=function(){var t=Object.values((0,a.UO)())[0].split("/"),s=(0,j.I0)(),e=(0,j.v9)((function(t){return t.appState.thread})),r=(0,j.v9)((function(t){return t.appState.hiddenPostsAndThreads})),o=(0,j.v9)((function(t){return t.appState.favoriteThreads}));return(0,i.useEffect)((function(){function e(){return e=(0,n.Z)(d().mark((function e(){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new x.Z,e.next=3,n.getThread(t[1],t[0]);case 3:r=e.sent,s((0,m.iI)(r)),(i=window.location.href.split("#")[1])&&document.getElementById(i).scrollIntoView(),o[r[0].ThreadId]&&s((0,m.Cv)([r[0].ThreadId,r[r.length-1].id]));case 8:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}window.scroll(0,0),function(){e.apply(this,arguments)}()}),[t[1]]),(0,i.useEffect)((function(){e&&o[e[0].ThreadId]&&s((0,m.Cv)([e[0].ThreadId,e[e.length-1].id]))}),[e]),(0,h.jsxs)("main",{className:"thread",children:[e?(0,h.jsxs)("div",{children:[(0,h.jsx)(f,{post:e[0],lastpost:e[e.length-1].id},e[0].id),e.slice(1).map((function(t){return r[t.id]?(0,h.jsxs)("div",{onClick:function(){return s((0,m.iB)(t.id))},children:["\u0421\u043a\u0440\u044b\u0442\u044b\u0439 \u043f\u043e\u0441\u0442 \u2116",t.id," (",t.postTitle,")"]}):(0,h.jsx)(v.Z,{posttype:"post",post:t},t.id)}))]}):(0,h.jsx)("div",{children:"Loading..."}),(0,h.jsx)(I.Z,{})]})}}}]);
//# sourceMappingURL=527.338e1458.chunk.js.map